import{y as a}from"./chunk.DUABR7O6.js";import{a as c}from"./chunk.TWUQ6LLZ.js";import{a as i}from"./chunk.KVVA2TM3.js";var m=class{constructor(o){this.fetchService=o}getBoard(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${o}/`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get board"),t(e)})})}getSellerInformation(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${o}/presenter`,{params:{token:this.fetchService.urlToken}}).then(e=>{e.status==206?setTimeout(()=>{this.getSellerInformation(o).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get seller"),t(e)})})}getCategory(o,s,t){return new Promise((e,r)=>{this.fetchService.fetcher.get(`/live_board/v2/categories/${o}`,{params:{board_id:s,by_slug:t}}).then(n=>{e(n.data)}).catch(n=>{console.error("could not get category",n),r(n)})})}getCategories(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${o}/categories`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get categories",e),t(e)})})}getUserChat(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.post("/live_board/v1/chat/user_chat",{board_id:o,lead_id:s}).then(r=>{t(r.data)}).catch(r=>{console.error("could not get user chat",r),e(r)})})}getItem(o,s,t){return new Promise((e,r)=>{this.fetchService.fetcher.get(`/live_board/v2/items/${o}`,{params:{by_slug:t,board_id:s}}).then(n=>{e(n.data)}).catch(n=>{console.error("could not get item",n),r(n)})})}getItems(o){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v2/boards/${o.boardId}/items`,a(o)).then(e=>{e.status==206?setTimeout(()=>{this.getItems(o).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get items"),t(e)})})}getHasItems(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${o}/items_presence`).then(e=>{e.status==206?setTimeout(()=>{this.getHasItems(o).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get has items"),t(e)})})}likeItem(o){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v2/items/${o}/likes`).then(()=>{s()}).catch(e=>{console.error("could not like item",e),t(e)})})}getJourneyItems(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v2/journeys/${o}`,a(s)).then(r=>{t(r.data)}).catch(r=>{console.error("could not get journey items",r),e(r)})})}getItemDownloadUrl(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/items/${o}/downloads`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get download url",e),t(e)})})}createSnapshotUrl(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/content_items/${o}/snapshots`,{guid:s}).then(r=>{t(r.data)}).catch(r=>{console.error("could not create snapshot",r),e(r)})})}createItemAnalysis(o){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v1/content_items/${o}/analyses`).then(e=>{s(e.data)}).catch(e=>{console.error("could not create analysis",e),t(e)})})}getFileMetadata(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/content_items/${o}/files`).then(e=>{e.status==206?setTimeout(()=>{this.getFileMetadata(o).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get file url",e),t(e)})})}setCookiesConsent(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/cookies_consents`,i({},a(s))).then(r=>{t(r.data)}).catch(r=>{console.error("could not get file url",r),e(r)})})}updateEnrichment(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.post("/live_board/v2/enrichments",{type:o,enrichment_data:s}).then(()=>{t()}).catch(r=>{console.error("could not update enrichment",r),e(r)})})}getGeoLocation(){return this.fetchService.withDisableOnPreview(()=>new Promise((o,s)=>{this.fetchService.fetcher.get("/live_board/v1/geo_location").then(t=>{o(t.data)}).catch(t=>{console.error("could not get geolocation",t),s(t)})}))}getCurrentLead(){return new Promise((o,s)=>{this.fetchService.fetcher.get("/live_board/v1/leads/me").then(t=>{o(t.data)}).catch(t=>{console.error("could not get current lead",t),s(t)})})}validateLead(o){return new Promise((s,t)=>{this.fetchService.fetcher.post("/live_board/v2/lead_validations",{board_id:o}).then(()=>{s()}).catch(e=>{console.error("could not validate lead",e),t(e)})})}stopTrackingForSession(){return new Promise((o,s)=>{this.fetchService.fetcher.delete("/live_board/v2/track_leads").then(t=>{o(t.data)}).catch(t=>{console.error("could not get stop tracking lead",t),s(t)})})}getLiveEventUrls(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${o}/live_event`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get current lead",e),t(e)})})}getOrganizationSettings(o){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${o}/organization_settings`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get organization settings",e),t(e)})})}setSessionCookie(o){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/session_cookies`).then(e=>{s(e.data)}).catch(e=>{console.error("could not create session cookie",e),t(e)})})}getFormData(o,s,t=null){return new Promise((e,r)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${o}/forms/${s}`,{params:{privacy_message_id:t}}).then(n=>{e(n.data)}).catch(n=>{console.error("could not get form data",n),r(n)})})}getPrivacyMessage(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.privacy_message,board_id:o}}).then(r=>t(r.data)).catch(r=>{console.error("could not get form privacy message",r),e(r)})})}getFooter(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.footer,board_id:o}}).then(r=>t(r.data)).catch(r=>{console.error("could not get form privacy message",r),e(r)})})}getFormPrivacyMessage(o,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.form_privacy_message,board_id:o}}).then(r=>t(r.data)).catch(r=>{console.error("could not get form privacy message",r),e(r)})})}saveMessageCta(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/message`,i({},a(s))).then(r=>{t(r.data)}).catch(r=>{console.error("could not submit cta",r),e(r)})}))}saveContactCta(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/contact`,i({},a(s))).then(r=>{t(r.data)}).catch(r=>{console.error("could not submit cta",r),e(r)})}))}saveFormCta(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/form`,a(s)).then(r=>t(r.data)).catch(r=>{console.error("could not submit cta",r),e(r)})}))}saveLinkCta(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/link`,i({},a(s))).then(r=>{t(r.data)}).catch(r=>{console.error("could not submit cta",r),e(r)})}))}trackLinkClick(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/link_click`,i({},a(s))).then(r=>{t(r)}).catch(r=>{console.error("could not submit cta",r),e(r)})}))}saveShareCta(o,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/campaign/share`,i({},a(s))).then(r=>{t(r.data)}).catch(r=>{console.error("could not submit cta",r),e(r)})}))}saveShareByEmailCta(o,s,t){return this.fetchService.withDisableOnPreview(()=>new Promise((e,r)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${o}/shares`,{email:s,invitation_id:t}).then(()=>{e()}).catch(n=>{console.error("could not submit cta",n),r(n)})}))}getEnrichment(o){let s=(t,e)=>{this.fetchService.fetcher.get(`/live_board/v3/boards/${o}/board_configuration`).then(r=>{t(r)}).catch(r=>{console.error("could not get enrichment",r),e()})};return this.fetchService.withPartialContent(s,500,20)}};export{m as a};
