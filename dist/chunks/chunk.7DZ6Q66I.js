import{y as n}from"./chunk.J4VEFDLC.js";import{a as c}from"./chunk.TWUQ6LLZ.js";import{a as i}from"./chunk.KVVA2TM3.js";var m=class{constructor(r){this.fetchService=r}getBoard(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${r}/`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get board"),t(e)})})}getSellerInformation(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${r}/presenter`,{params:{token:this.fetchService.urlToken}}).then(e=>{e.status==206?setTimeout(()=>{this.getSellerInformation(r).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get seller"),t(e)})})}getCategory(r,s,t){return new Promise((e,o)=>{this.fetchService.fetcher.get(`/live_board/v2/categories/${r}`,{params:{board_id:s,by_slug:t}}).then(a=>{e(a.data)}).catch(a=>{console.error("could not get category",a),o(a)})})}getCategories(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${r}/categories`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get categories",e),t(e)})})}getUserChat(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.post("/live_board/v1/chat/user_chat",{board_id:r,lead_id:s}).then(o=>{t(o.data)}).catch(o=>{console.error("could not get user chat",o),e(o)})})}getItem(r,s,t){return new Promise((e,o)=>{this.fetchService.fetcher.get(`/live_board/v2/items/${r}`,{params:{by_slug:t,board_id:s}}).then(a=>{e(a.data)}).catch(a=>{console.error("could not get item",a),o(a)})})}getItems(r){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v2/boards/${r.boardId}/items`,n(r)).then(e=>{e.status==206?setTimeout(()=>{this.getItems(r).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get items"),t(e)})})}getHasItems(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${r}/items_presence`).then(e=>{e.status==206?setTimeout(()=>{this.getHasItems(r).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get has items"),t(e)})})}likeItem(r){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v2/items/${r}/likes`).then(()=>{s()}).catch(e=>{console.error("could not like item",e),t(e)})})}getJourneyItems(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v2/journeys/${r}`,n(s)).then(o=>{t(o.data)}).catch(o=>{console.error("could not get journey items",o),e(o)})})}getItemDownloadUrl(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/items/${r}/downloads`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get download url",e),t(e)})})}createSnapshotUrl(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/content_items/${r}/snapshots`,{guid:s}).then(o=>{t(o.data)}).catch(o=>{console.error("could not create snapshot",o),e(o)})})}createItemAnalysis(r){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v1/content_items/${r}/analyses`).then(e=>{s(e.data)}).catch(e=>{console.error("could not create analysis",e),t(e)})})}getFileMetadata(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/content_items/${r}/files`).then(e=>{e.status==206?setTimeout(()=>{this.getFileMetadata(r).then(s).catch(t)},2e3):s(e.data)}).catch(e=>{console.error("could not get file url",e),t(e)})})}setCookiesConsent(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/cookies_consents`,i({},n(s))).then(o=>{t(o.data)}).catch(o=>{console.error("could not get file url",o),e(o)})})}updateEnrichment(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.post("/live_board/v2/enrichments",{type:r,enrichment_data:s}).then(()=>{t()}).catch(o=>{console.error("could not update enrichment",o),e(o)})})}getGeoLocation(){return this.fetchService.withDisableOnPreview(()=>new Promise((r,s)=>{this.fetchService.fetcher.get("/live_board/v1/geo_location").then(t=>{r(t.data)}).catch(t=>{console.error("could not get geolocation",t),s(t)})}))}getCurrentLead(){return new Promise((r,s)=>{this.fetchService.fetcher.get("/live_board/v1/leads/me").then(t=>{r(t.data)}).catch(t=>{console.error("could not get current lead",t),s(t)})})}validateLead(r){return new Promise((s,t)=>{this.fetchService.fetcher.post("/live_board/v2/lead_validations",{board_id:r}).then(()=>{s()}).catch(e=>{console.error("could not validate lead",e),t(e)})})}stopTrackingForSession(){return new Promise((r,s)=>{this.fetchService.fetcher.delete("/live_board/v2/track_leads").then(t=>{r(t.data)}).catch(t=>{console.error("could not get stop tracking lead",t),s(t)})})}getLiveEventUrls(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${r}/live_event`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get current lead",e),t(e)})})}getOrganizationSettings(r){return new Promise((s,t)=>{this.fetchService.fetcher.get(`/live_board/v1/boards/${r}/organization_settings`).then(e=>{s(e.data)}).catch(e=>{console.error("could not get organization settings",e),t(e)})})}setSessionCookie(r){return new Promise((s,t)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/session_cookies`).then(e=>{s(e.data)}).catch(e=>{console.error("could not create session cookie",e),t(e)})})}getFormData(r,s,t=null){return new Promise((e,o)=>{this.fetchService.fetcher.get(`/live_board/v2/boards/${r}/forms/${s}`,{params:{privacy_message_id:t}}).then(a=>{e(a.data)}).catch(a=>{console.error("could not get form data",a),o(a)})})}getPrivacyMessage(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.privacy_message,board_id:r}}).then(o=>t(o.data)).catch(o=>{console.error("could not get form privacy message",o),e(o)})})}getFooter(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.footer,board_id:r}}).then(o=>t(o.data)).catch(o=>{console.error("could not get form privacy message",o),e(o)})})}getFormPrivacyMessage(r,s){return new Promise((t,e)=>{this.fetchService.fetcher.get(`/live_board/v2/campaign_elements/${s}`,{params:{element_type:c.form_privacy_message,board_id:r}}).then(o=>t(o.data)).catch(o=>{console.error("could not get form privacy message",o),e(o)})})}saveMessageCta(r,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/campaign/message`,i({},n(s))).then(o=>{t(o.data)}).catch(o=>{console.error("could not submit cta",o),e(o)})}))}saveContactCta(r,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/campaign/contact`,i({},n(s))).then(o=>{t(o.data)}).catch(o=>{console.error("could not submit cta",o),e(o)})}))}saveFormCta(r,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/campaign/form`,n(s)).then(o=>t(o.data)).catch(o=>{console.error("could not submit cta",o),e(o)})}))}saveLinkCta(r,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/campaign/link`,i({},n(s))).then(o=>{t(o.data)}).catch(o=>{console.error("could not submit cta",o),e(o)})}))}saveShareCta(r,s){return this.fetchService.withDisableOnPreview(()=>new Promise((t,e)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/campaign/share`,i({},n(s))).then(o=>{t(o.data)}).catch(o=>{console.error("could not submit cta",o),e(o)})}))}saveShareByEmailCta(r,s,t){return this.fetchService.withDisableOnPreview(()=>new Promise((e,o)=>{this.fetchService.fetcher.post(`/live_board/v1/boards/${r}/shares`,{email:s,invitation_id:t}).then(()=>{e()}).catch(a=>{console.error("could not submit cta",a),o(a)})}))}getEnrichment(r){let s=(t,e)=>{this.fetchService.fetcher.get(`/live_board/v3/boards/${r}/board_configuration`).then(o=>{t(o)}).catch(o=>{console.error("could not get enrichment",o),e()})};return this.fetchService.withPartialContent(s,500,20)}};export{m as a};
